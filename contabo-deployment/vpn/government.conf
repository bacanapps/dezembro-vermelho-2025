# OpenVPN Configuration for Government Network
# Server: vpndcci.aids.gov.br:1194

client
dev tun
proto udp4
remote vpndcci.aids.gov.br 1194

# Authentication
auth-user-pass /etc/openvpn/government-credentials.txt
auth-nocache

# Certificates (will be placed in /etc/openvpn/government/)
ca /etc/openvpn/government/ca.crt
cert /etc/openvpn/government/cert.crt
key /etc/openvpn/government/key.key
tls-auth /etc/openvpn/government/ta.key 1

# Security
remote-cert-tls server
verify-x509-name CERTIFICADO_DO_SERVIDOR_OPEN_VPN name
auth SHA256
data-ciphers AES-128-GCM:AES-256-GCM:AES-128-CBC:AES-256-CBC
data-ciphers-fallback AES-256-CBC
tls-client

# Connection
resolv-retry infinite
persist-key
persist-tun
nobind

# Compression
compress lzo

# Keepalive and reconnection
keepalive 10 60
ping-timer-rem
explicit-exit-notify 3

# Logging (for debugging)
verb 3
status /var/log/openvpn/government-status.log
log-append /var/log/openvpn/government.log

# Run as daemon
daemon

# Script to log assigned IP
script-security 2
up /etc/openvpn/government-up.sh
